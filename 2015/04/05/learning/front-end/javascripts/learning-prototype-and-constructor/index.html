<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 初识JS中的prototype和constructor · TuzK1ss' Home</title><meta name="description" content="初识JS中的prototype和constructor - Tuzk1ss"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/tuzkiss" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/resume.html" target="_self" class="nav-list-link">RESUME</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">初识JS中的prototype和constructor</h1><div class="post-info"><span class="post-date">Apr 5, 2015</span><span class="post-tag">#Javascript</span></div><div class="post-content"><h2 id="原型-prototype"><a href="#原型-prototype" class="headerlink" title="原型-prototype"></a><strong>原型-prototype</strong></h2><ol>
<li>prototype本质上还是一个javascript函数。</li>
<li>每个函数都有一个默认的prototype属性。</li>
<li>通过prototype可以拓展Javascript内建对象。</li>
</ol>
<h2 id="构造器-constructor"><a href="#构造器-constructor" class="headerlink" title="构造器-constructor"></a><strong>构造器-constructor</strong></h2><ol>
<li>constructor始终指向创建之前对象的构造（初始化）函数。</li>
<li>每一个函数都有一个默认的属性prototype，而这个prototype的constructor默认指向这个函数。</li>
</ol>
<p><strong>下面新建Person构造函数，第一个为覆盖其prototype。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">function Person (name) &#123;</div><div class="line">    this.name = name;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">    getName: function () &#123;</div><div class="line">        return this.name;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">/* 上面的方法等价于下面</div><div class="line"></div><div class="line">    Person.prototype = new Object(&#123;getName:function () &#123;   </div><div class="line">        return this.name;   </div><div class="line">    &#125;&#125;); </div><div class="line"></div><div class="line">*/</div><div class="line"></div><div class="line">var tuzkiss = new Person(&apos;tuzkiss&apos;);</div><div class="line">tuzkiss.getName();</div><div class="line"></div><div class="line">tuzkiss.constructor === Person;                             // false</div><div class="line">Pserson.prototype.constructor === Person;                   // false</div><div class="line">tuzkiss..constructor.prototype.constructor === Person;      // false</div><div class="line"></div><div class="line">// 因为上面的代码prototype中是覆盖了Person的prototype属性， 而不是修改</div><div class="line"></div><div class="line">// 如需变成true则需要在创建tuzkiss实例是 把Person的constructor重置</div><div class="line">// Person.prototype.constructor = Person;</div></pre></td></tr></table></figure>
<p><strong>第二个为修改其prototype</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function Person(name) &#123;</div><div class="line">    this.name = name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person.prototype.getName = function () &#123;</div><div class="line">    return this.name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var tuzkiss = new Person(&apos;tuzkiss&apos;);</div><div class="line">tuzkiss.getName();</div><div class="line"></div><div class="line">tuzkiss.constructor === Person;                             // true</div><div class="line">Person.prototype.constructor === Person;                    // true</div><div class="line">tuzkiss.constructor.prototype.constructor === Person;       // true</div><div class="line"></div><div class="line">// 因为上面getName只是在Person的prototype中拓展的，只是修改，并未覆盖</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2015/04/16/learning/front-end/plugins/plugin-custom-print/" class="prev">PREV</a><a href="/2015/03/31/learning/design-patterns/simple-factory-pattern/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'tuzkiss';
var disqus_identifier = '2015/04/05/learning/front-end/javascripts/learning-prototype-and-constructor/';
var disqus_title = '初识JS中的prototype和constructor';
var disqus_url = 'http://www.tuzkiss.com/2015/04/05/learning/front-end/javascripts/learning-prototype-and-constructor/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//tuzkiss.disqus.com/count.js" async></script><div class="copyright"><p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/tuzkiss/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p>© 2015 - 2017 <a href="http://www.tuzkiss.com">Tuzk1ss</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>