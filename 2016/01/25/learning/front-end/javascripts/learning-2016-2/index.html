<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 2016前端学习（二） · TuzK1ss' Home</title><meta name="description" content="2016前端学习（二） - Tuzk1ss"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/tuzkiss" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/resume.html" target="_self" class="nav-list-link">RESUME</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">2016前端学习（二）</h1><div class="post-info"><span class="post-date">Jan 25, 2016</span><span class="post-tag">#Javascript</span></div><div class="post-content"><p>之前总结了基本类型的判断和检测，现在来总结下Javascript中对象的原型和继承</p>
<h2 id="二、对象与原型"><a href="#二、对象与原型" class="headerlink" title="二、对象与原型"></a>二、对象与原型</h2><p>首先建立各一个简单的对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var person = new Object();</div><div class="line">person.name = &apos;tuzkiss&apos;;</div><div class="line">person.age = 24;</div><div class="line">person.job = &apos;Front-end developer&apos;;</div><div class="line"></div><div class="line">person.sayHi = function () &#123;</div><div class="line">    alert(this.name)</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>在ECMAScript中有两种属性，<strong>数据属性</strong>和<strong>访问器属性</strong>。</p>
<a id="more"></a>
<p><strong>数据属性</strong> ： 包含一个数据值位置，在这个位置可以读取或者写入值。有4个特性<br>1、【Configurable】 ： 表示是否通过delete删除属性， 是是否能修改属性的特性， 或者是否能把修改成访问器属性。默认为true。<br>2、【Enumerable】 : 表示能否通过for-in循环返回属性。默认为true。<br>3、【Writable】 : 表示能否修改属性的值。默认为true。<br>4、【Value】 : 包含这个属性的值。默认值为undefined。</p>
<p>如果要修改默认属性的特性的话，必须使用ECMAScript5中的<strong>Object.defineProperty()</strong>方法。这个方法介绍三个参数，<strong>属性所在的对象</strong>， <strong>属性的名称</strong>， <strong>一个描述符的对象</strong>。 描述符的属性是上面4种种的。</p>
<p>例如 ： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var person = &#123;&#125;;</div><div class="line">Object.defineProperty(person, &apos;name&apos;, &#123;</div><div class="line">    writable : false,</div><div class="line">    value : &apos;tuzkiss&apos;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">console.log(person.name);   // tuzkiss</div><div class="line">person.name = &apos;tom&apos;;</div><div class="line">console.log(person.name);   // tuzkiss</div></pre></td></tr></table></figure>
<p>上述person对象中配置了writable为false，之后的修改都无法生效。</p>
<p>可以多次使用Object.defineProperty()方法修改同一个属性，但在把configurable特性设置为false之后就会有限制了。</p>
<p><strong>访问器属性</strong></p>
<p>访问器属性不包含数据值，包含一堆getter和setter函数。同样，访问器属性也拥有4个特性</p>
<p>1、【Configurabel】 :  表示能否通过delete删除属性重新定义属性，能否修改属性的特性，或者说修改成数据属性。默认值为true。<br>2、【Enumerable】 : 表示能否通过for-in循环返回属性。默认为true。<br>3、【Get】 : 在读取属性是调用的函数，默认为undefined。<br>4、【Set】 : 在写入属性是调用的函数，默认为undefined。</p>
<p>例如 ： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var book = &#123;</div><div class="line">    _year : 2004, </div><div class="line">    edition : 1</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Object.defineProperty(book, &apos;year&apos;, &#123;</div><div class="line">    get : function () &#123;</div><div class="line">        return  this._year;</div><div class="line">    &#125;,</div><div class="line">    set : function (newValue) &#123;</div><div class="line"></div><div class="line">        if (newValue &gt; 2004) &#123;</div><div class="line">            this._year = newValue;</div><div class="line">            this.edition += newValue - 2004;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">book.year = 2005;</div><div class="line">console.log(book.edition);  // 2</div></pre></td></tr></table></figure>
<p>以上代码创建了一个book对象，给它定义了两个默认的属性： _year和edition。然后使用Object.defineProperty()添加year属性，同时改写get和set方法。</p>
<p>当然 也可以同时创建多个属性。</p>
<p>那么，现在才进入正题 ： </p>
<h3 id="1、创建对象"><a href="#1、创建对象" class="headerlink" title="1、创建对象"></a>1、创建对象</h3><p><strong>工厂模式</strong></p>
<p>例如，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">function createPerson (name ,age, job) &#123;</div><div class="line">    var o = new Object();</div><div class="line"></div><div class="line">    o.name = name;</div><div class="line">    o.age = age;</div><div class="line">    o.job = job;</div><div class="line"></div><div class="line">    o.sayHi = function () &#123;</div><div class="line">        alert(this.name);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    return o;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var tuzkiss = createPerson(&apos;tuzkiss&apos;, 24, &apos;FEer&apos;);</div></pre></td></tr></table></figure>
<p><strong>构造函数模式</strong></p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Person(name, age, job) &#123;</div><div class="line">    this.name = name;</div><div class="line">    this.age = age;</div><div class="line">    this.job = job;</div><div class="line"></div><div class="line">    this.sayHi = function () &#123;</div><div class="line">        alert(this.name);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var tuzkiss = new Person(&apos;tuzkiss&apos;, 24, &apos;FEer&apos;);</div></pre></td></tr></table></figure>
<p>构造函数模式（Person）跟 工厂模式（createPerson）有以下区别之处：</p>
<ul>
<li>没有显式的创建对象</li>
<li>直接降属性或方法付给了this对象</li>
<li>没有return 语句</li>
</ul>
<p>使用构造函数创建对象时实际经历4个步骤：<br>1、创建一个新的对象<br>2、将构造函数的作用域赋给新对象（所以this指向了这个新对象）<br>3、执行构造函数中的代码 （为这个新对象添加属性）<br>4、返回新对象</p>
<p>所以 ： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tuzkiss.constructor === Person;  // true</div><div class="line"></div><div class="line">tuzkiss instanceof Person;      // true</div></pre></td></tr></table></figure>
<p><strong>原型模式</strong></p>
<p>我们创建的每一个函数都有一个prototype属性，这个属性是一个指针，指向一个对象。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Person () &#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = &apos;tuzkiss&apos;;</div><div class="line">Person.prototype.age = 24;</div><div class="line">Person.prototype.job = &apos;FEer&apos;;</div><div class="line">Person.prototype.sayHi = function () &#123;</div><div class="line">    alert(this.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line">var tuzkiss = new Person();</div><div class="line">tuzkiss.sayHi();    // &apos;tuzkiss&apos;</div></pre></td></tr></table></figure>
<h3 id="2、理解原型"><a href="#2、理解原型" class="headerlink" title="2、理解原型"></a>2、理解原型</h3></div></article></div></main><footer><div class="paginator"><a href="/2016/01/26/learning/front-end/javascripts/learning-2016-3/" class="prev">PREV</a><a href="/2016/01/24/learning/front-end/javascripts/learning-2016-1/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'tuzkiss';
var disqus_identifier = '2016/01/25/learning/front-end/javascripts/learning-2016-2/';
var disqus_title = '2016前端学习（二）';
var disqus_url = 'http://www.tuzkiss.com/2016/01/25/learning/front-end/javascripts/learning-2016-2/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//tuzkiss.disqus.com/count.js" async></script><div class="copyright"><p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/tuzkiss/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p>© 2015 - 2017 <a href="http://www.tuzkiss.com">Tuzk1ss</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>